# ü§ñ Telegram –ê–Ω—Ç–∏—Å–ø–∞–º –ë–æ—Ç

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Telegram –±–æ—Ç –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –≥—Ä—É–ø–ø –∏ –∫–∞–Ω–∞–ª–æ–≤ —Å —Å–∏—Å—Ç–µ–º–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–£–º–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤
- üëÆ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** - –±–∞–Ω, –º—É—Ç, –∫–∏–∫ —Å –≥–∏–±–∫–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- üîê **–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** - —Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ (–≤–ª–∞–¥–µ–ª–µ—Ü/–∞–¥–º–∏–Ω—ã/–º–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã —á–∞—Ç–∞)
- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - Prometheus + Grafana –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –º–µ—Ç—Ä–∏–∫
- üê≥ **Docker** - –ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- üóÑÔ∏è **PostgreSQL** - –Ω–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker & Docker Compose
- Telegram –±–æ—Ç —Ç–æ–∫–µ–Ω (–ø–æ–ª—É—á–∏—Ç—å —É [@BotFather](https://t.me/botfather))
- –í–∞—à Telegram ID (—É–∑–Ω–∞—Ç—å —É [@userinfobot](https://t.me/userinfobot))

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/mortido163/telegram_antispam_bot.git
cd telegram_antispam_bot

# 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env (—Å–º. —Ä–∞–∑–¥–µ–ª "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è")

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
./scripts/deploy.sh
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)
```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
BOT_TOKEN=your_telegram_bot_token        # –¢–æ–∫–µ–Ω –æ—Ç @BotFather  
BOT_OWNER_ID=123456789                   # –í–∞—à Telegram ID
BOT_ADMIN_IDS=987654321,111222333        # ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production)
DATABASE_URL=postgresql+asyncpg://postgres:secure_password@postgres:5432/telegram_bot
```

## üîê –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞

| –†–æ–ª—å | –ü—Ä–∞–≤–∞ | –ö–æ–º–∞–Ω–¥—ã |
|------|-------|---------|
| ÔøΩ **–í–ª–∞–¥–µ–ª–µ—Ü** | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø | –í—Å–µ + `/clear_forbidden` |
| üõ°Ô∏è **–ê–¥–º–∏–Ω—ã –±–æ—Ç–∞** | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ | `/add_forbidden`, `/remove_forbidden`, `/set_warnings` |
| üëÆ **–ê–¥–º–∏–Ω—ã —á–∞—Ç–∞** | –ú–æ–¥–µ—Ä–∞—Ü–∏—è —á–∞—Ç–∞ | `/ban`, `/mute`, `/kick`, `/unban`, `/unmute` |

## üéØ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (–∞–¥–º–∏–Ω—ã –±–æ—Ç–∞)
- `/add_forbidden <—Å–ª–æ–≤–æ>` - –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–µ —Å–ª–æ–≤–æ
- `/remove_forbidden <—Å–ª–æ–≤–æ>` - —É–¥–∞–ª–∏—Ç—å –∑–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–µ —Å–ª–æ–≤–æ
- `/list_forbidden` - –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
- `/set_warnings <—á–∏—Å–ª–æ>` - –ª–∏–º–∏—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3)
- `/bot_status` - —Å—Ç–∞—Ç—É—Å –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ú–æ–¥–µ—Ä–∞—Ü–∏—è (–∞–¥–º–∏–Ω—ã —á–∞—Ç–∞)
- `/ban` - –∑–∞–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ—Ç–≤–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ)
- `/unban` - —Ä–∞–∑–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
- `/mute` - –∑–∞–≥–ª—É—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/unmute` - —Å–Ω—è—Ç—å –∑–∞–≥–ª—É—à–µ–Ω–∏–µ
- `/kick` - –∏—Å–∫–ª—é—á–∏—Ç—å –∏–∑ —á–∞—Ç–∞

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `/help` - —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º (–∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ø–æ —Ä–æ–ª—è–º)
- `/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

## ÔøΩ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã:
- **Grafana**: http://localhost:3000 (admin/admin) - –¥–∞—à–±–æ—Ä–¥—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **Prometheus**: http://localhost:9090 - —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–Ω–æ–≤, –º—É—Ç–æ–≤, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π  
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –∏ –æ—à–∏–±–∫–∏ –ë–î
- –ê–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Ç—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

## ÔøΩ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- üöÄ **[–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](DEPLOYMENT.md)** - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- ÔøΩ **[–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](SECURITY.md)** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∑–∞—â–∏—Ç—ã
- üóÑÔ∏è **[–ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î](MIGRATIONS.md)** - —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ö–µ–º–æ–π

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å hot-reload
./scripts/dev.sh

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest tests/

# –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
./scripts/create_migration.sh "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏–π (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. [LICENSE](LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

---

üí° **–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](DEPLOYMENT.md) –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ [issue](https://github.com/mortido163/telegram_antispam_bot/issues).